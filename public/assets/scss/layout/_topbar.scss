@use "../abstracts/mixins" as mixins;
@use "../abstracts/tokens" as tokens;

.topbar {
  height: var(--gutter-h);
  margin-top: var(--margin-h);
  margin-inline: var(--margin);

  &--main {
    height: var(--topbar-height);
  }

  &__inner {
    height: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-wrap: nowrap;
  }

  &__logo {
    height: 48px;
    width: 48px;
    display: block;
  }

  &__avatar-link {
    display: inline-block;
    text-decoration: none;
    cursor: pointer;
  }

  &__avatar-wrap {
    position: relative;
    display: inline-block;
    height: 96px;
    width: 72px;
    overflow: visible;

    &:hover,
    &.hover {
      .topbar__avatar {
        transform: rotate(-5deg);
        filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.25));
      }

      .topbar__avatar-surprise {
        opacity: 1;
        transform: translateX(40px) rotate(35deg) scale(1);
      }
    }
  }

  &__avatar,
  &__avatar-surprise {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    transition: transform 0.4s ease, filter 0.4s ease, opacity 0.4s ease;
    transform-origin: center;
    aspect-ratio: 3/4;
    border-radius: 10%;
    filter: grayscale(10%);
  }

  &__avatar {
    z-index: 2;
  }

  &__avatar-surprise {
    z-index: 1;
    opacity: 0;
    transform: translateX(0) rotate(0deg);
  }
}
