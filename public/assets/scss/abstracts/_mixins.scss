/* ============================================================================== */
/* =                                   SIZING                                   = */
/* ============================================================================== */

/* For responsive font sizes and spacing */
@function fluid($min, $max, $minvw: 320px, $maxvw: 1440px) {
    $slope: (#{$max} - #{$min}) / (#{$maxvw} - #{$minvw});
    $intercept: #{$min} - ($slope * #{$minvw});
    @return clamp(#{$min}, #{$intercept} + #{$slope} * 100vw, #{$max});
}

/* ============================================================================== */
/* =                               COLUMN LAYOUT                                = */
/* ============================================================================== */

/* (Helper) Sets an element's width to be equal to n columns */
@mixin set-col($n) {
    $col-width: calc(var(--col) * #{$n} + var(--gutter) * (#{$n} - 1));
    width: $col-width;
    max-width: $col-width;
    flex: 0 0 $col-width;
}

/* Applies different column widths for different breakpoints */
@mixin col-media($m, $t: null, $d: null, $clamp: false) {
    @if $m !=null {
        @include set-col($m);
    }

    @media (min-width: 768px) {
        @if $t !=null {
            @include set-col($t);
        }
    }

    @media (min-width: 1440px) {
        @if $d !=null {
            @include set-col($d);
        }
    }
}

/* Removes horizontal margins and padding */
@mixin fullbleed {
    margin-inline: 0;
    padding-inline: 0;
}

/* ============================================================================== */
/* =                               ACCESSIBILITY                                = */
/* ============================================================================== */

/* Hides content visually but keeps it accessible to screen readers */
@mixin sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* Draws a custom focus outline when an element is focused */
@mixin focus-ring($color: var(--accent), $offset: 3px, $radius: 8px) {
    outline: 3px solid $color;
    outline-offset: $offset;
    border-radius: $radius;
}
