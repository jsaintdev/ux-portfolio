/* ============================================================================== */
/*                                       THEME                                    */
/* ============================================================================== */

/* =================================== TOKENS =================================== */
:root {

  /* ------------------------------ Color Scheme -------------------------------- */
  --bg: #2A3F42;            /* primary background */
  --bg-alt: #192627;        /* alternate background */
  --text: #ffffff;          /* primary text (white) */
  --highlight:  #33D39D;    /* highlight color (mint) */
  --accent: #ff8a3d;        /* accent color (orange) */
  --card-bg: #3B9F84;       /* card background */

  /* ------------------------------- Typography --------------------------------- */
  --font-body: "Atkinson Hyperlegible Mono", monospace;   /* font for content */
  --font-display: "Alan Sans", sans-serif;                /* font for emphasis */
  --font-serif: "Bona Nova SC", serif;                    /* font for titles */

  /* ---------------------------- Layout & Sizing ------------------------------- */

  /* Global */ 
  --container: clamp(960px, 88vw, 1800px);      /* max width for site content */
  --header-h: clamp(100px, 10vh, 200px);        /* header height */
  --space: clamp(14px, 2vw, 24px);              /* spacing unit */

  /* Nav */
  --logo-size: clamp(24px, 4.5vmax, 48px);      /* logo size */
  --nav-link-size: clamp(16px, 3vmax, 32px);    /* nav link font-size */
  --nav-gap: clamp(16px, 3vmax, 96px);          /* spacing between nav links */

  /* Section Hero */
  --avatar-size: clamp(140px, 15vmax, 320px);       /* avatar size */

  --title-size: clamp(17px, 3vmax, 36px);           /* title font-size */
  --title-line: 1.2;                                /* title line-height */

  --subtitle-size: clamp(16px, 2.4vmax, 30px);      /* subtitle font-size */
  --subtitle-line: 1.28;                            /* subtitle line-height */
  --subtitle-max-width: clamp(28ch, 60ch, 72ch);    /* max width of subtitle text block */

  /* Panel */
  --panel-height-ratio: 0.825;                  /* panel container height */
  --image-height-ratio: 0.8;                    /* panel image height */
  --card-size-ratio:    0.4;                    /* project card size */
  --padding-ratio:      0.03;                   /* vertical padding inside panel */

  --img-aspect: 1170 / 750;                     /* aspect ratio for project images */

  --panel-height:       clamp(600px, calc(var(--panel-height-ratio) * 100vh), 1000px);
  --padding-vertical:   calc(var(--panel-height) * var(--padding-ratio));
  --image-height:       calc(var(--panel-height) * var(--image-height-ratio));
  --card-size:          calc(var(--panel-height) * var(--card-size-ratio));

  --gutter: 80px;         /* standard gutter between card and image */
  --gutter-tight: 40px;   /* less space between card and image */
  --gutter-flush: 0px;    /* no space between card and image */

  --overlap: 27%;         /* default overlap of card over image */
  --overlap-min: 25%;     /* less overlap of card over image */
  --overlap-max: 33%;     /* more overlap of card over image */

  /* Panel Project Card */
  --card-title-size: clamp(14px, 1.2vw, 18px);     /* card title font-size */
  --card-title-line: 1.15;                          /* card title line-height */
  --card-desc-size: clamp(12px, 0.9vw, 14px);     /* card description font-size */
  --card-desc-line: 1.4;                            /* card description line-height */
  --card-link-size: clamp(12px, 0.9vw, 14px);   /* card link font-size */
  --card-padding: 40px;                             /* padding inside project card */                
}

/* ============================================================================== */
/*                                        BASE                                    */
/* ============================================================================== */

/* =============================== GLOBAL RESETS ================================ */

* {
  box-sizing: border-box;            /* Apply border-box sizing to all elements */
}

html,
body {
  height: 100%;                      /* Make html and body stretch to full viewport height */
}

body {
  margin: 0;                         /* remove default browser margin */
  background: var(--bg);             /* apply site-wide background color */
  color: var(--text);                /* set default text color */
  font-family: var(--font-body);     /* use the global font stack */
  line-height: 1.6;                  /* increase readability with taller line height */
}

/* =============================== ACCESSIBILITY ================================ */

:focus-visible {
  outline: 3px solid var(--accent); /* Visible focus indicator for keyboard users */
  outline-offset: 3px;
  border-radius: 8px;
}

/* ============================================================================== */
/*                                       LAYOUT                                   */
/* ============================================================================== */

/* ============================ SHARED CONSTRAINTS ============================== */

.topbar__inner,
.hero__inner {
  max-width: var(--container);                /* Aligns hero content with topbar */
  margin: 0 auto;
  padding-inline: var(--space);
}

/* ================================== TOPBAR ==================================== */

/* -------------------------------- Containers ---------------------------------- */

.topbar {
  height: var(--header-h);              /* The main topbar container */ 
}

.nav {
  gap: var(--nav-gap);                  /* spacing between nav links */
}

/* --------------------------------- Structure ---------------------------------- */

.topbar__inner {
  height: 100%;                          /* Holds the logo and the nav links */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space);
  padding-block: var(--space);
  flex-wrap: nowrap;
}

/* --------------------------------- Elements ----------------------------------- */

.topbar__logo{
  height: var(--logo-size);             /* Aligns logo image size with text */
  width: auto;
  display:block;
}

.hamburger {
  background: none;                     /* Hamburger button on portrait orientations */
  border: 0;
  padding: 10px;
  cursor: pointer;
}

.hamburger__bar {
  display: block;                       /* Creates Hamburger menu lines */
  width: 22px;
  height: 2px;
  background: var(--text);
  margin: 4px 0;
  transition: transform 180ms ease, opacity 150ms ease; 
}

/* -------------------------------- Text Styles --------------------------------- */

.nav__link {
  color: var(--text);                          /* Styles nav links */
  font-family: var(--font-serif);
  font-size: var(--nav-link-size);
  text-decoration: none;
}

.nav__link--contact {
  color: var(--highlight);                    /* Highlights contact link */
}

/* ------------------------------- Interactive ---------------------------------- */

.hamburger[aria-expanded="true"] .hamburger__bar:nth-child(1) {
  transform: translateY(6px) rotate(45deg);                         /* Animates hamburger to "X" when menu is open */
}

.hamburger[aria-expanded="true"] .hamburger__bar:nth-child(2) {
  opacity: 0;                                                       /* Hides middle bar when menu is open */
}

.hamburger[aria-expanded="true"] .hamburger__bar:nth-child(3) {
  transform: translateY(-6px) rotate(-45deg);                       /* Animates hamburger to "X" when menu is open */
}

/* ================================= SECTIONS =================================== */

/* -------------------------------- Containers ---------------------------------- */

.section {
  min-height: 100vh;                /* Each section takes up full viewport height */  
}

/* --------------------------------- Structure ---------------------------------- */

.section--hero {                  
  display: grid;                              /* Grid layout for Main page hero section */
  grid-template-rows: auto 1fr;
}

/* ================================== PANELS ==================================== */

/* -------------------------------- Containers ---------------------------------- */

.panel {
  background: var(--bg-alt);                  /* Main container for each panel */
  height: var(--panel-height);
  padding-block: var(--padding-vertical);
  padding-inline: var(--gutter);
  display: grid;
  align-items: center;
}

/* --------------------------------- Structure ---------------------------------- */

.panel + .panel {
  margin-top: calc(var(--padding-vertical) * -1);   /* overlap adjacent panels */
}

.panel__inner{
  max-width: var(--container);
  margin: 0 auto;
  display: grid;
  align-items: center;
  justify-content: center;
  gap: var(--space);
  padding-inline: var(--space);
}

/* ............................ Single Image Panels ............................. */

/* Tight (card next to image with minimal gap) */

.panel.panel--left-tight,
.panel.panel--right-tight {
  padding-inline: var(--gutter-tight);            /* less space between card and image */
}

.panel.panel--left-tight .panel__inner {
  display: grid;                                  /* card on left, image on right */
  grid-template-columns: var(--card-size) auto;
  column-gap: var(--space);
  align-items: center;
  justify-content: center;
}

.panel.panel--right-tight .panel__inner {
  display: grid;                                  /* not in use */
  grid-template-columns: auto var(--card-size);
  column-gap: var(--space);
  align-items: center;
  justify-content: center;
}



/* .............................. Panel Variants ................................ */

/* Featured Panel 1 (overlaps the hero section) */

.panel[data-rank="1"] {
  --peek-1: clamp(40px, 6vh, 140px);              /* raises the first panel and adds padding below */
  --panel-height: clamp(620px, 70vh, 900px);
  margin-top: calc(var(--peek-1) * -1);
  padding-bottom: calc(var(--padding-vertical) + var(--peek-1));
}

.panel[data-rank="1"] .panel__inner {
  transform: translateY(calc(var(--peek-1) * -1));  /* raises inner content to adjust for the extra padding */
}

/* --------------------------------- Elements ----------------------------------- */

.panel__img {
  height: var(--image-height);
  aspect-ratio: var(--image-aspect);
  width: auto;
  object-fit: cover;
}

/* Featured Panel 1 */

.panel[data-rank="1"] .panel__img {
  position: relative;                           /* raises the first panel image even more */
  z-index: 2;
}

.panel[data-rank="1"] .project-card {
  position: relative;                           /* ensures card is above image */
  z-index: 3;
}

/* ============================================================================== */
/*                                      MODULES                                   */
/* ============================================================================== */

/* =================================== HERO ===================================== */

/* -------------------------------- Containers ---------------------------------- */

.hero {
  display: grid;                        /* Main container for hero content */
  padding: var(--space);
  padding-bottom: calc(var(--space) * 0.5);
}

/* --------------------------------- Structure ---------------------------------- */

.hero__inner {
  width: 100%;                          /* Grid layout for hero content, slightly raised */
  display: grid;
  gap: clamp(16px, 3vw, 32px);
  align-items: center;      
  transform: translateY(-5vh);             
}

/* --------------------------------- Elements ----------------------------------- */

.hero__avatar {
  width: var(--avatar-size);            /* Headshot image */
  height: var(--avatar-size);
  border-radius: 50%;
  display: block;
}

.hero__text {
  width: 100%;                          /* Holds and arranges title and subtitle text */
  max-width: 100%;
}

/* -------------------------------- Text Styles --------------------------------- */

.hero__title {
  font-family: var(--font-display);
  margin: 0 0 2rem;                     /* Title text */
  font-size: var(--title-size);
  line-height: var(--title-line);
  font-weight: 700;
  color: var(--text);
}

.hero__subtitle {
  font-family: var(--font-display);
  margin: .5rem 0 0;                    /* Subtitle text */
  font-size: var(--subtitle-size);
  line-height: var(--subtitle-line);
  font-weight: 400;
  display: block;
  max-width: var(--subtitle-max-width);
}

.hero__line {
  display: block;                       /* Force each line into its own row */
  margin: 0;
}

.nowrap {
  white-space: nowrap;                  /* Prevents line breaks */
}

.hero__line--highlight {
  color: var(--highlight);              /* Mint accent color for emphasized text */   
  font-weight: 700;
}

/* ------------------------------- Interactive ---------------------------------- */
.wave {
  display: inline-block;                      /* Makes hand emoji wave */
  transform-origin: 70% 70%;
}

.wave.animate {
  animation: wave 1.5s ease-in-out forwards;  /* Trigger wave animation */
}

@keyframes wave {
  0%   { transform: rotate(0deg); }           /* Wave keyframes */
  15%  { transform: rotate(14deg); }
  30%  { transform: rotate(-8deg); }
  45%  { transform: rotate(14deg); }
  60%  { transform: rotate(-4deg); }
  75%  { transform: rotate(10deg); }
  100% { transform: rotate(0deg); }
}

/* ============================= FEATURED + PLAY ============================= */

/* ---- Containers ---- */


/* ---- Elements ---- */
.panel .project-card {
  width:  var(--card-size);         /* Turns project cards into squares */
  height: var(--card-size);
}

.project-card{
  background: var(--card-bg);
  color: var(--text);
  padding: var(--card-padding);
  border-radius: 0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.35);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  transition: background-color 200ms ease, transform 260ms ease, opacity 220ms ease;
}

/* ---- Animations ---- */
.project-card:hover,
.project-card:focus {
  background-color: color-mix(in srgb, var(--card-bg) 85%, white 15%);
  cursor: pointer;
}

/* Image: start grayscale; color on card hover */
.panel .panel__img { filter: grayscale(100%); transition: filter 240ms ease; }
.panel.is-card-hover .panel__img { filter: none; }

/* Card glide-in: start slightly higher, then settle when panel enters view */
.project-card { transform: translateY(-10px); opacity: 0; }
.panel.is-in .project-card { transform: translateY(0); opacity: 1; transition: transform 260ms ease, opacity 220ms ease; }

/* ---- Text Styles ---- */
.project-card__title {
  margin: 0 0 0.5rem;
  font-family: var(--font-serif);
  font-size: var(--card-title-size);
  line-height: var(--card-title-line);
}

.project-card__desc {
  margin: 0 0 1rem;
  font-size: var(--card-desc-size);
  line-height: var(--card-desc-line);
}

.project-card__link {
  font-family: var(--font-body);
  letter-spacing: var(--card-link-tracking);
  font-size: var(--card-link-size);
  text-decoration: none;
  color: var(--text);
  margin-top: auto;
}

/* ---------- Panel - Single Image ---------- */

/* Overlap -- Card overlapping image */
.panel.panel--left-overlap .project-card,
.panel.panel--right-overlap .project-card {
  position: relative;
}

.panel.panel--left-overlap .project-card {
  position: relative;
  right: calc(var(--card-size) * -0.5);
}

.panel.panel--right-overlap .project-card {
  position: relative;
  left: calc(var(--card-size) * -0.5);
}

.panel.panel--right-overlap .panel__inner{
  grid-template-columns: auto var(--card-size);
  justify-content: center;
  column-gap: var(--space);
}

.panel.panel--left-overlap .panel__inner {
  grid-template-columns: auto var(--card-size);
  justify-content: center;
  column-gap: var(--space);
}

/* Split -- image and card are in equally sized columns */
.panel.panel--left-split,
.panel.panel--right-split {
  grid-template-columns: 1fr 1fr;   /* RIGHT NOT IN USE */
  column-gap: var(--space);
}

.panel.panel--left-split .panel__img,
.panel.panel--right-split .panel__img {
  height: calc(var(--panel-height) - 2 * var(--padding-vertical));
}

/* [Center/Top/Bottom]-Overlay -- the image fills the panel, card aligns to c/t/b */
.panel.panel--center-overlay {
  position: relative;
  padding-inline: var(--gutter-flush);
}

.panel.panel--center-overlay .panel__inner,
.panel.panel--top-overlay .panel__inner,
.panel.panel--bottom-overlay .panel__inner {
  display: grid;
  grid-template-columns: 1fr;
  align-items: center;
  justify-items: center;
  position: relative;
}

.panel.panel--center-overlay .panel__img {
  height: calc(var(--panel-height) - 2 * var(--padding-vertical));
  width: 100%;
  aspect-ratio: auto;
}

.panel.panel--center-overlay .project-card {
  position: absolute;
  inset: 0;
  margin: auto;
}

.panel.panel--top-overlay .project-card {
  align-self: start;                            /* NOT IN USE */
}

.panel.panel--bottom-overlay .project-card {
  align-self: end;
}

.panel.panel--bottom-overlay .panel__img {
  height: calc(var(--panel-height) - 2 * var(--padding-vertical));
  width: 100%;
  aspect-ratio: auto;
  object-fit: cover;
}

.panel.panel--bottom-overlay .project-card {
  position: absolute;
  bottom: var(--padding-vertical);
  left: var(--gutter);
}

/* ---------- Panel - Two Images ---------- */

/* Center-Duo -- the card is centered between two images, with space on the sides */
.panel.panel--center-duo {
  grid-template-columns: 1fr auto var(--card-size) auto 1fr;
  column-gap: var(--space);
}

.panel.panel--center-duo .panel__img {
  height: var(--image-height);
}

/* Center-stack -- the card is centered between two images of equal height */
.panel.panel--center-stack {
  grid-template-rows: auto var(--card-size) auto;
  row-gap: var(--gutter-tight);
}

.panel.panel--center-stack .panel__img {
  height: calc((var(--panel-height) - 2 * var(--padding-vertical) - var(--card-size) - var(--gutter-tight)) / 2);
}

/* Split-duo-[Left/Right] -- card is centered between a landscape image and a square image */
.panel.panel--split-duo-left,
.panel.panel--split-duo-right {
  display: grid;
  grid-template-columns: 1fr auto var(--card-size) auto 1fr;
  column-gap: var(--space);
  align-items: center;
}

.panel.panel--split-duo-left .panel__img,
.panel.panel--split-duo-right .panel__img {
  height: var(--image-height);
  width: 100%;
  object-fit: cover;
}

/* Split-Duo-Left (Square on Right) */
.panel.panel--split-duo-left {
  padding-left: var(--gutter-flush);
}

.panel.panel--split-duo-left .panel__inner {
  display: grid;
  grid-template-columns:
    calc(var(--image-height) * (4 / 3))
    var(--card-size)
    calc(var(--image-height) * 1);
  column-gap: var(--space);
  align-items: center;
  justify-content: center;
}

.panel.panel--split-duo-left .project-card {
  grid-column: auto;
}

.panel.panel--split-duo-left .panel__img {
  height: var(--image-height);
  width: 100%;
  object-fit: cover;
}

.panel.panel--split-duo-left .panel__img--left  { aspect-ratio: 4 / 3; }
.panel.panel--split-duo-left .panel__img--right { aspect-ratio: 1 / 1; }

/* Split-Duo-Right (Square on left) */
.panel.panel--split-duo-right {
  padding-right: var(--gutter-flush);
}

.panel.panel--split-duo-right .panel__inner {
  display: grid;
  grid-template-columns:
    calc(var(--image-height) * 1)
    var(--card-size)
    calc(var(--image-height) * (4 / 3));
  column-gap: var(--space);
  align-items: center;
  justify-content: center;
}

.panel.panel--split-duo-right .project-card {
  grid-column: auto;
}

.panel.panel--split-duo-right .panel__img {
  height: var(--image-height);
  width: 100%;
  object-fit: cover;
}

.panel.panel--split-duo-right .panel__img--left  { aspect-ratio: 1 / 1; }
.panel.panel--split-duo-right .panel__img--right { aspect-ratio: 4 / 3; }


/* ---------- Panel - Multiple Images ---------- */

/* Gallery-span -- expanded panel (2x height) for dense multi-image layouts */
.panel.panel--gallery-span {
  min-height: calc(var(--panel-height) * 2);
  padding-block: calc(var(--padding-vertical) / 2);
}


/* ============================================================================== */
/*                                       STATE                                    */
/* ============================================================================== */

/* ================================= LANDSCAPE ================================= */

@media (orientation: landscape) and (min-width: 768px) {

  /* --------------------------------- Topbar ---------------------------------- */
  .nav{
    display: flex;                /* Show topbar links */
    align-items: center;
    gap: var(--nav-gap);
  }
  .nav__main{
    display: flex;                /* Arrange main nav links in a row */
    flex-direction: row;
    align-items: center;
    gap: var(--nav-gap);
    flex: 0 0 auto;
  }
  .nav__link--contact{
    margin-top: 0;                /* Reset margin for contact link */
    align-self: auto;
  }
  .hamburger {
    display: none;                /* Hide hamburger menu button */
  }

 /* ---------------------------------- Hero ----------------------------------- */
  .hero {
    place-items: center start;    /* center vertically, left-align horizontally */
  }
  .hero__inner {
    grid-template-columns: 1fr;   /* single column layout, aligned left */
    justify-items: start;
    text-align: left;
  }
}

/* ============================ COMPACT LANDSCAPE ============================== */

@media (orientation: landscape) and (min-width: 768px) and (max-width: 1439px) {
  :root {
    /* TO DO: adjust tokens */

    /* Nav */
    --logo-size: clamp(24px, 4.5vmax, 48px);          /* logo size */
    --nav-link-size: clamp(16px, 3vmax, 32px);        /* nav link font-size */
    --nav-gap: clamp(16px, 3vmax, 96px);              /* spacing between nav links */

    /* Hero */
    --avatar-size: clamp(140px, 15vmax, 320px);       /* avatar size */

    --title-size: clamp(17px, 3vmax, 36px);           /* title font-size */
    --title-line: 1.2;                                /* title line-height */

    --subtitle-size: clamp(16px, 2.4vmax, 30px);      /* subtitle font-size */
    --subtitle-line: 1.28;                            /* subtitle line-height */
    --subtitle-max-width: clamp(28ch, 60ch, 72ch);    /* max width of subtitle text block */
  }
}


/* ---------- PORTRAIT (MOBILE) ---------- */ 
/* Applies when viewport height is greater than width */

@media (orientation: portrait) {

  /* ---- Topbar ---- */
  .nav {
    display: none;              /*  Hide topbar links */
  }
  .hamburger {
    display: block;             /* Show hamburger menu button */
  }

  /* ---- Mobile Nav Window ---- */
  .nav__main {
    flex: 1;                      /* Align main nav links to the center */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
  }

  .nav__link--contact {
    align-self: center;         /* Center the contact link at the bottom of the nav */
    margin-top: auto;
  }
  
  .is-nav-open .nav {
    display: flex;                 /* Show nav links if hamburger icon is clicked */
    position: fixed;
    inset: var(--header-h) 0 0 0;
    background: var(--bg);
    flex-direction: column;
    gap: 20px;
    padding: 24px;
    z-index: 1000;
    justify-content: center;
    align-items: center;
  }

  .is-nav-open {
    overflow: hidden;             /* Prevent background scrolling when nav is open */
  }


  /* ---- Hero Section ---- */
  .hero {
    place-items: center;        /* center both vertically and horizontally */
  }
  .hero__inner {
    grid-template-columns: 1fr; /* single column layout, centered */
    justify-items: center;
    text-align: center;
  }

  /* ---- Panels ---- */
  .panel {
    width: 100vw;
    height: 100vw;
    overflow: hidden;
  }
  
  .panel[data-rank="1"],
  .panel[data-rank="2"],
  .panel[data-rank="3"],
  .panel[data-rank="4"] {
    width: 100vw;
    height: 100vw;
    min-height: auto;
    padding: 0;
    position: relative;
  }

  .panel[data-rank] .panel__inner {
    max-width: 100%;
    width: 100%;
    height: 100%;
    display: grid;
    place-items: center; /* center card */
  }

  .panel[data-rank="1"] .panel__img,
  .panel[data-rank="2"] .panel__img--left,
  .panel[data-rank="3"] .panel__img,
  .panel[data-rank="4"] .panel__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
  }

  .panel[data-rank="2"] .panel__img--right {
    display: none;
  }

  .panel[data-rank="1"] .project-card,
  .panel[data-rank="2"] .project-card,
  .panel[data-rank="3"] .project-card,
  .panel[data-rank="4"] .project-card {
    position: relative;
    z-index: 2;
    margin: auto;
    width: 75vw;
    height: 75vw;
    max-width: 320px;
    max-height: 320px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    text-align: center;
  }
}

/* ===== Portrait featured panels: force square & center ===== */
@media (max-width: 768px), (orientation: portrait) {

    :root {
    --avatar-size: clamp(180px, 40vw, 280px);
    --title-size: clamp(28px, 8vw, 40px);
    --subtitle-size: clamp(20px, 6vw, 30px);
    --card-size: clamp(100px, 25vw, 250px);
  }
  /* 1) Square panels without 100vw drift */
  .panel[data-rank] {
    width: 100%;
    aspect-ratio: 1 / 1;      /* square */
    height: auto;             /* let aspect ratio control height */
    padding: 0;
    position: relative;
    overflow: hidden;
  }

  /* 2) Full-bleed image behind */
  .panel[data-rank] .panel__img,
  .panel[data-rank] .panel__img--left,
  .panel[data-rank] .panel__img--right {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
    filter: none !important;
  }

  /* 3) Inner grid centers card */
  .panel[data-rank] .panel__inner {
    max-width: 100%;
    width: 100%;
    height: 100%;
    display: grid;
    place-items: center;
    padding-inline: 0;
  }

  /* 4) Card: fixed square size, fully centered */
  .panel[data-rank] .project-card {
    width: clamp(220px, 75vw, 320px);
    height: clamp(220px, 75vw, 320px);
    margin: 0 auto;
    z-index: 2;
    text-align: center;
    align-items: center;
  }

  /* 5) Cancel desktop offsets from overlap/split variants */
  .panel.panel--right-overlap .project-card,
  .panel.panel--left-overlap  .project-card {
    left: auto !important;
    right: auto !important;
  }
  .panel.panel--right-overlap .panel__inner,
  .panel.panel--left-overlap  .panel__inner,
  .panel.panel--split-duo-right .panel__inner,
  .panel.panel--split-duo-left  .panel__inner {
    grid-template-columns: 1fr !important;
    justify-items: center !important;
  }

  /* 6) RAPS: hide right image; use square left */
  .panel[data-rank="1"] {
    --peek-1: clamp(24px, 10vw, 96px);
    margin-top: calc(var(--peek-1) * -1);
    padding-bottom: var(--peek-1);
  }

  .panel[data-rank="1"] .panel__inner {
    transform: none !important;
  }

  .panel[data-rank] .project-card {
  position: relative;
  top: auto;
  left: auto;
  margin: 0 auto;
  transform: translateY(-10px);   /* matches your global default */
}

  .panel[data-rank="2"] .panel__img--right { display: none !important; }
  .panel[data-rank="2"] .panel__img--left  { display: block !important; }

    .panel[data-rank="2"] .project-card {
  position: absolute;
  top: 50%;
  left: 50%;
  /* keep the glide (-10px) but center first */
  transform: translate(-50%, -50%) translateY(-10px);

  /* 7) Remove panel gutter on mobile (fixes right-side strip) */
  .panel { padding-inline: 0; }
    }
    
}

/* ============================== ACCESSIBILITY =============================== */

/* Reduces or disables animations for users who prefer less motion */
@media (prefers-reduced-motion: reduce) {
  .hamburger__bar { transition: none !important; }                /* Disables hamburger animation */

  .panel .panel__img { transition: none !important; }             /* Disables image filter animation */
  .panel.is-in .project-card { transition: none !important; }     /* Disables card glide-in animation */
  .project-card { transform: none; opacity: 1; }                  /* Disables card hover animation */
  .wave.animate { animation: none !important; }                   /* Disables wave animation */
}

/* ============================================================================== */
/*                                        END                                     */
/* ============================================================================== */
